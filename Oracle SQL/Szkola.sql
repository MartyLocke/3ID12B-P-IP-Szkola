DELETE FROM Uczen;
DELETE FROM Nauczyciel;
DELETE FROM Konto;
DELETE FROM Przedmiot;
DELETE FROM Klasa;
DELETE FROM Sesja;
DELETE FROM Sekretarka;

DROP TABLE Uczen;
DROP TABLE Nauczyciel;
DROP TABLE Sesja;
DROP TABLE Konto;
DROP TABLE Przedmiot;
DROP TABLE Klasa;
DROP TABLE Sekretarka;

CREATE TABLE Konto (
    Nickname NVARCHAR2(32) NOT NULL,
    Haslo NVARCHAR2(256) NOT NULL,
    Typ NUMBER NOT NULL,
    Id NCHAR(36) NOT NULL
);

CREATE TABLE Uczen (
    Id NCHAR(36),
    Imie NVARCHAR2(32) NOT NULL,
    Nazwisko NVARCHAR2(32) NOT NULL,
    PESEL CHAR(11) NOT NULL,
    Data_urodzenia DATE NOT NULL,
    Miejsce_urodzenia NVARCHAR2(32) NOT NULL,
    CONSTRAINT Uczen_pk PRIMARY KEY (Id)
);

CREATE TABLE Nauczyciel (
    Id NCHAR(36),
    Imie NVARCHAR2(32) NOT NULL,
    Nazwisko NVARCHAR2(32) NOT NULL,
    CONSTRAINT Nauczyciel_pk PRIMARY KEY (Id)
);

CREATE TABLE Sekretarka (
    Id NCHAR(36),
    Imie NVARCHAR2(32) NOT NULL,
    Nazwisko NVARCHAR2(32) NOT NULL,
    CONSTRAINT Nauczyciel_pk PRIMARY KEY (Id)
);

CREATE TABLE Sesja (
  Token NVARCHAR2(64) NOT NULL,
  Expr TIMESTAMP NOT NULL,
  Id NCHAR(36) NOT NULL,
  Typ NUMBER NOT NULL
);

CREATE TABLE Klasa (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY,
    Poziom NUMBER NOT NULL,
    Nazwa NVARCHAR2(3) NOT NULL,
    CONSTRAINT Klasa_pk PRIMARY KEY (Id)
);

CREATE TABLE Przedmiot (
    Id NUMBER GENERATED BY DEFAULT AS IDENTITY,
    Nazwa NVARCHAR2(32) NOT NULL,
    Poziom NUMBER,
    Ilosc NUMBER,
    CONSTRAINT Przedmiot_pk PRIMARY KEY (Id)
);

INSERT INTO Konto VALUES ('Dyrektor', '1234', 3, 'Djeden');
INSERT INTO Konto VALUES ('Maciek', '1234', 0, 'Ujeden');
INSERT INTO Konto VALUES ('Pawel', '1234', 1, 'Njeden');

INSERT INTO Uczen VALUES ('Ujeden', 'Maciek', 'Bandura','12345678998', TO_DATE('2000/05/16', 'yyyy/mm/dd'),'Kielce');

INSERT INTO Nauczyciel VALUES ('Njeden', 'Pawe≈Ç','Paduch'); 

INSERT INTO sesja VALUES ('TOKEN213769',CURRENT_TIMESTAMP, 'Djeden', 3);
INSERT INTO sesja VALUES ('TOKEN21376958',TO_TIMESTAMP('2022-11-18 10:25:31', 'YYYY-MM-DD HH24:MI:SS'), 'Ujeden', 0);

COMMIT